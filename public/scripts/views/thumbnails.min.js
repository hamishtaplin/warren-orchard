window.App=window.App||{},App.Views=App.Views||{},App.Views.Thumbnails=Backbone.View.extend({el:"#thumbs",initialize:function(){_.bindAll(this,"hide","show","onHideAnimationEnd"),this.thumbs=document.querySelectorAll(".thumb"),this.numThumbs=this.thumbs.length,this.thumbsParent=this.el.parentElement,this.imgLoader=new App.Views.ImageLoader({imgs:this.thumbs}),this.thumbsInnerEl=document.createElement("div"),this.thumbsInnerEl.className="thumbs-inner",this.el.appendChild(this.thumbsInnerEl),this.show()},hide:function(){this.eventCount=0,this.el.classList.add("is-off-screen"),this.el.addEventListener("webkitAnimationEnd",this.onHideAnimationEnd,!1)},onHideAnimationEnd:function(){this.eventCount++,this.eventCount===this.numThumbs&&(this.thumbsParent.removeChild(this.el),this.el.removeEventListener("webkitAnimationEnd",this.onHideAnimationEnd))},show:function(){this.el.classList.remove("hide"),null===this.el.parentElement&&(this.thumbsParent.appendChild(this.el),this.el.classList.remove("is-off-screen"))}});