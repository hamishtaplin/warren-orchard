window.App=window.App||{},App.Views=App.Views||{},function(){App.Views.Slider=Backbone.View.extend({initialize:function(i){var e=0;for(_.bindAll(this,"onPageNavClick","onSlideAnimationEnd"),this.animType=i.animType,this.innerEl=i.innerEl,this.slides=this.innerEl.children,this.numSlides=this.innerEl.childElementCount,this.currentPageIndex=0,this.el.classList.add("slider"),this.innerEl.classList.add("slider-inner");e<this.numSlides;){var t=this.slides[e];t.classList.add("slider-slide"),"slide"===this.animType&&(t.style.width=(100/this.numSlides).toString()+"%"),e++}"slide"===this.animType?this.innerEl.style.width=(100*this.numSlides).toString()+"%":this.addUI(),this.navigateTo(0)},addUI:function(){var i=0,e=document.createElement("div");for(e.setAttribute("class","slider-paging-inner bg-check"),e.innerHTML="",this.pageNav=document.createElement("div"),this.pageNav.setAttribute("class","slider-paging"),this.pageNav.addEventListener("click",this.onPageNavClick),this.pageNav.innerHTML="";i<this.numSlides;){var t=document.createElement("div");t.setAttribute("data-i",i.toString()),t.setAttribute("class","slider-paging-btn"),e.appendChild(t),i++}this.pageNav.inner=e,this.pageNav.appendChild(e),this.el.appendChild(this.pageNav)},onPageNavClick:function(i){i.target.classList.contains("slider-paging-btn")&&this.navigateTo(i.target.getAttribute("data-i"),!0)},next:function(){this.currentPageIndex+1<this.numSlides?this.navigateTo(this.currentPageIndex+1):this.trigger("navigate:next")},prev:function(){this.currentPageIndex-1>=0?this.navigateTo(this.currentPageIndex-1):this.trigger("navigate:prev")},navigateTo:function(i,e){var t=this.innerEl;e||t.classList.remove("will-animate"),this.currentPageIndex=i,this.currentSlide&&this.currentSlide.classList.remove("is-current"),this.currentSlide=this.slides[i],this.currentSlide.classList.add("is-current"),e?t.addEventListener("webkitAnimationEnd",this.onSlideAnimationEnd):_.delay(function(){t.classList.add("will-animate")},100),"slide"===this.animType&&(t.style.webkitTransform="translate3d(-"+i*(100/this.numSlides)+"%,0,0)"),this.pageNav&&(this.pageNav.querySelector(".is-current")&&this.pageNav.querySelector(".is-current").classList.remove("is-current"),this.pageNav.inner.children[i].classList.add("is-current")),this.trigger("slidechanged",this.currentSlide,i)},onSlideAnimationEnd:function(){BackgroundCheck.refresh()},hide:function(){this.pageNav.classList.add("is-off-screen")},show:function(){this.pageNav.classList.remove("is-off-screen")}})}.call(this,window,Zepto);